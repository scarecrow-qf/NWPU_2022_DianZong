#ifndef __MAX31865_H
#define __MAX31865_H
#include "stm32f4xx_hal.h"


/* MAX31865参考电阻 */
#define RREF  430  //4300Ω


/* MAX31865控制口 */
#define MAX31865_CONTROL_PORT  GPIOA
#define MAX31865_SDO     GPIO_PIN_6
#define MAX31865_CS      GPIO_PIN_4
#define MAX31865_SCLK    GPIO_PIN_5
#define MAX31865_SDI     GPIO_PIN_7
#define MAX31865_DRDY 	 GPIO_PIN_2  

#define MAX31865_CS_SET      HAL_GPIO_WritePin(MAX31865_CONTROL_PORT,MAX31865_CS,GPIO_PIN_SET)
#define MAX31865_CS_CLR      HAL_GPIO_WritePin(MAX31865_CONTROL_PORT,MAX31865_CS,GPIO_PIN_RESET)
#define MAX31865_SCLK_SET    HAL_GPIO_WritePin(MAX31865_CONTROL_PORT,MAX31865_SCLK,GPIO_PIN_SET)
#define MAX31865_SCLK_CLR    HAL_GPIO_WritePin(MAX31865_CONTROL_PORT,MAX31865_SCLK,GPIO_PIN_RESET)
#define MAX31865_SDI_SET     HAL_GPIO_WritePin(MAX31865_CONTROL_PORT,MAX31865_SDI,GPIO_PIN_SET)
#define MAX31865_SDI_CLR     HAL_GPIO_WritePin(MAX31865_CONTROL_PORT,MAX31865_SDI,GPIO_PIN_RESET)

#define MAX31865_SDO_READ    HAL_GPIO_ReadPin(MAX31865_CONTROL_PORT,MAX31865_SDO)
#define MAX31865_DRDY_READ   HAL_GPIO_ReadPin(MAX31865_CONTROL_PORT,MAX31865_DRDY)

void MAX31865_Init(void);
void MAX31865_Cfg(void);
double MAX31865_GetTemp(void);

#endif

